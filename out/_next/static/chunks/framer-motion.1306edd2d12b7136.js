"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{9653:function(t,e,n){n.d(e,{_:function(){return h}});var i=n(3576),o=n(1534),s=n(504),r=n(5688),a=n(2035);function l(t,e){[...e].reverse().forEach(n=>{let i=t.getVariant(n);i&&(0,s.C)(t,i),t.variantChildren&&t.variantChildren.forEach(t=>{l(t,e)})})}function u(){let t=!1,e=new Set,n={subscribe:t=>(e.add(t),()=>void e.delete(t)),start(n,i){(0,a.k)(t,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let o=[];return e.forEach(t=>{o.push((0,r.d)(t,n,{transitionOverride:i}))}),Promise.all(o)},set:n=>((0,a.k)(t,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),e.forEach(t=>{Array.isArray(n)?l(t,n):"string"==typeof n?l(t,[n]):(0,s.C)(t,n)})),stop(){e.forEach(t=>{!function(t){t.values.forEach(t=>t.stop())}(t)})},mount:()=>(t=!0,()=>{t=!1,n.stop()})};return n}let h=function(){let t=(0,i.h)(u);return(0,o.L)(t.mount,[]),t}},7586:function(t,e,n){n.d(e,{M:function(){return x}});var i=n(7437),o=n(2265),s=n(8881),r=n(3576),a=n(1534),l=n(4252),u=n(3537),h=n(5750);function c(t,e){if("function"==typeof t)return t(e);null!=t&&(t.current=e)}class d extends o.Component{getSnapshotBeforeUpdate(t){let e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){let t=e.offsetParent,n=(0,u.R)(t)&&t.offsetWidth||0,i=(0,u.R)(t)&&t.offsetHeight||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=n-o.width-o.left,o.bottom=i-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function p(t){var e,n;let{children:s,isPresent:r,anchorX:a,anchorY:l,root:u}=t,p=(0,o.useId)(),f=(0,o.useRef)(null),m=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:v}=(0,o.useContext)(h._),g=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.useCallback(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{let n=!1,i=e.map(e=>{let i=c(e,t);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){let n=i[t];"function"==typeof n?n():c(e[t],null)}}}}(...e),e)}(f,null!==(n=null===(e=s.props)||void 0===e?void 0:e.ref)&&void 0!==n?n:null==s?void 0:s.ref);return(0,o.useInsertionEffect)(()=>{let{width:t,height:e,top:n,left:i,right:o,bottom:s}=m.current;if(r||!f.current||!t||!e)return;f.current.dataset.motionPopId=p;let h=document.createElement("style");v&&(h.nonce=v);let c=null!=u?u:document.head;return c.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(p,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(e,"px !important;\n            ").concat("left"===a?"left: ".concat(i):"right: ".concat(o),"px !important;\n            ").concat("bottom"===l?"bottom: ".concat(s):"top: ".concat(n),"px !important;\n          }\n        ")),()=>{c.contains(h)&&c.removeChild(h)}},[r]),(0,i.jsx)(d,{isPresent:r,childRef:f,sizeRef:m,children:o.cloneElement(s,{ref:g})})}let f=t=>{let{children:e,initial:n,isPresent:s,onExitComplete:a,custom:u,presenceAffectsLayout:h,mode:c,anchorX:d,anchorY:f,root:v}=t,g=(0,r.h)(m),y=(0,o.useId)(),x=!0,w=(0,o.useMemo)(()=>(x=!1,{id:y,initial:n,isPresent:s,custom:u,onExitComplete:t=>{for(let e of(g.set(t,!0),g.values()))if(!e)return;a&&a()},register:t=>(g.set(t,!1),()=>g.delete(t))}),[s,g,a]);return h&&x&&(w={...w}),(0,o.useMemo)(()=>{g.forEach((t,e)=>g.set(e,!1))},[s]),o.useEffect(()=>{s||g.size||!a||a()},[s]),"popLayout"===c&&(e=(0,i.jsx)(p,{isPresent:s,anchorX:d,anchorY:f,root:v,children:e})),(0,i.jsx)(l.O.Provider,{value:w,children:e})};function m(){return new Map}var v=n(9637);let g=t=>t.key||"";function y(t){let e=[];return o.Children.forEach(t,t=>{(0,o.isValidElement)(t)&&e.push(t)}),e}let x=t=>{let{children:e,custom:n,initial:l=!0,onExitComplete:u,presenceAffectsLayout:h=!0,mode:c="sync",propagate:d=!1,anchorX:p="left",anchorY:m="top",root:x}=t,[w,E]=(0,v.oO)(d),P=(0,o.useMemo)(()=>y(e),[e]),S=d&&!w?[]:P.map(g),C=(0,o.useRef)(!0),M=(0,o.useRef)(P),A=(0,r.h)(()=>new Map),b=(0,o.useRef)(new Set),[L,D]=(0,o.useState)(P),[T,R]=(0,o.useState)(P);(0,a.L)(()=>{C.current=!1,M.current=P;for(let t=0;t<T.length;t++){let e=g(T[t]);S.includes(e)?(A.delete(e),b.current.delete(e)):!0!==A.get(e)&&A.set(e,!1)}},[T,S.length,S.join("-")]);let k=[];if(P!==L){let t=[...P];for(let e=0;e<T.length;e++){let n=T[e],i=g(n);S.includes(i)||(t.splice(e,0,n),k.push(n))}return"wait"===c&&k.length&&(t=k),R(y(t)),D(P),null}let{forceRender:V}=(0,o.useContext)(s.p);return(0,i.jsx)(i.Fragment,{children:T.map(t=>{let e=g(t),o=(!d||!!w)&&(P===T||S.includes(e));return(0,i.jsx)(f,{isPresent:o,initial:(!C.current||!!l)&&void 0,custom:n,presenceAffectsLayout:h,mode:c,root:x,onExitComplete:o?void 0:()=>{if(b.current.has(e)||(b.current.add(e),!A.has(e)))return;A.set(e,!0);let t=!0;A.forEach(e=>{e||(t=!1)}),t&&(null==V||V(),R(M.current),d&&(null==E||E()),u&&u())},anchorX:p,anchorY:m,children:t},e)})})}},9637:function(t,e,n){n.d(e,{oO:function(){return s}});var i=n(2265),o=n(4252);function s(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=(0,i.useContext)(o.O);if(null===e)return[!0,null];let{isPresent:n,onExitComplete:s,register:r}=e,a=(0,i.useId)();(0,i.useEffect)(()=>{if(t)return r(a)},[t]);let l=(0,i.useCallback)(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,l]:[!0]}},8881:function(t,e,n){n.d(e,{p:function(){return i}});let i=(0,n(2265).createContext)({})},5750:function(t,e,n){n.d(e,{_:function(){return i}});let i=(0,n(2265).createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"})},4252:function(t,e,n){n.d(e,{O:function(){return i}});let i=(0,n(2265).createContext)(null)},4787:function(t,e,n){n.d(e,{E:function(){return t8}});var i,o=n(6584),s=n(2475),r=n(2265);let a=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function l(t){if("string"!=typeof t||t.includes("-"));else if(a.indexOf(t)>-1||/[A-Z]/u.test(t))return!0;return!1}var u=n(7437),h=n(8881);let c=(0,r.createContext)({strict:!1});var d=n(5750);let p=(0,r.createContext)({});var f=n(1616),m=n(5659);function v(t){return Array.isArray(t)?t.join(" "):t}var g=n(7493),y=n(4543),x=n(8274);let w=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function E(t,e,n){for(let i in e)(0,g.i)(e[i])||(0,y.jF)(i,n)||(t[i]=e[i])}var P=n(5460),S=n(2018);let C=()=>({...w(),attrs:{}}),M=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function A(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||M.has(t)}let b=t=>!A(t);try{i=require("@emotion/is-prop-valid").default,"function"==typeof i&&(b=t=>t.startsWith("on")?!A(t):i(t))}catch(t){}var L=n(6384),D=n(1048),T=n(435),R=n(2596),k=n(4252),V=n(3576);let W=t=>(e,n)=>{let i=(0,r.useContext)(p),o=(0,r.useContext)(k.O),s=()=>(function(t,e,n,i){let{scrapeMotionValuesFromProps:o,createRenderState:s}=t;return{latestValues:function(t,e,n,i){let o={},s=i(t,{});for(let t in s)o[t]=(0,D.b)(s[t]);let{initial:r,animate:a}=t,l=(0,f.G)(t),u=(0,f.M)(t);e&&u&&!l&&!1!==t.inherit&&(void 0===r&&(r=e.initial),void 0===a&&(a=e.animate));let h=!!n&&!1===n.initial,c=(h=h||!1===r)?a:r;if(c&&"boolean"!=typeof c&&!(0,T.H)(c)){let e=Array.isArray(c)?c:[c];for(let n=0;n<e.length;n++){let i=(0,R.o)(t,e[n]);if(i){let{transitionEnd:t,transition:e,...n}=i;for(let t in n){let e=n[t];if(Array.isArray(e)){let t=h?e.length-1:0;e=e[t]}null!==e&&(o[t]=e)}for(let e in t)o[e]=t[e]}}}return o}(e,n,i,o),renderState:s()}})(t,e,i,o);return n?s():(0,V.h)(s)},I=W({scrapeMotionValuesFromProps:L.U,createRenderState:w}),j=W({scrapeMotionValuesFromProps:n(8233).U,createRenderState:C});var O=n(4563),U=n(4424);let F={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},H=!1;function B(){return!function(){if(H)return;let t={};for(let e in F)t[e]={isEnabled:t=>F[e].some(e=>!!t[e])};(0,U.v7)(t),H=!0}(),(0,U.uN)()}let _=Symbol.for("motionComponentSymbol");var G=n(2786);let N=(0,r.createContext)({});function Y(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}var z=n(1534);function X(t){var e,n;let{forwardMotionProps:i=!1,type:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;s&&function(t){let e=B();for(let n in t)e[n]={...e[n],...t[n]};(0,U.v7)(e)}(s);let y=o?"svg"===o:l(t),M=y?j:I;function L(e,n){let o;let s={...(0,r.useContext)(d._),...e,layoutId:function(t){let{layoutId:e}=t,n=(0,r.useContext)(h.p).id;return n&&void 0!==e?n+"-"+e:e}(e)},{isStatic:L}=s,D=function(t){let{initial:e,animate:n}=function(t,e){if((0,f.G)(t)){let{initial:e,animate:n}=t;return{initial:!1===e||(0,m.$)(e)?e:void 0,animate:(0,m.$)(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,r.useContext)(p));return(0,r.useMemo)(()=>({initial:e,animate:n}),[v(e),v(n)])}(e),T=M(e,L);if(!L&&O.j){(0,r.useContext)(c).strict;let e=function(t){let{drag:e,layout:n}=B();if(!e&&!n)return{};let i={...e,...n};return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==n?void 0:n.isEnabled(t))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(s);o=e.MeasureLayout,D.visualElement=function(t,e,n,i,o,s){var a,l,u,h;let{visualElement:f}=(0,r.useContext)(p),m=(0,r.useContext)(c),v=(0,r.useContext)(k.O),g=(0,r.useContext)(d._).reducedMotion,y=(0,r.useRef)(null),x=(0,r.useRef)(!1);i=i||m.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:f,props:n,presenceContext:v,blockInitialAnimation:!!v&&!1===v.initial,reducedMotionConfig:g,isSVG:s}),x.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));let w=y.current,E=(0,r.useContext)(N);w&&!w.projection&&o&&("html"===w.type||"svg"===w.type)&&function(t,e,n,i){let{layoutId:o,layout:s,drag:r,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:function t(e){if(e)return!1!==e.options.allowProjection?e.projection:t(e.parent)}(t.parent)),t.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!r||a&&Y(a),visualElement:t,animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:l,layoutRoot:u})}(y.current,n,o,E);let P=(0,r.useRef)(!1);(0,r.useInsertionEffect)(()=>{w&&P.current&&w.update(n,v)});let S=n[G.M],C=(0,r.useRef)(!!S&&!(null===(a=(l=window).MotionHandoffIsComplete)||void 0===a?void 0:a.call(l,S))&&(null===(u=(h=window).MotionHasOptimisedAnimation)||void 0===u?void 0:u.call(h,S)));return(0,z.L)(()=>{x.current=!0,w&&(P.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),C.current&&w.animationState&&w.animationState.animateChanges())}),(0,r.useEffect)(()=>{w&&(!C.current&&w.animationState&&w.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var t,e;null===(t=(e=window).MotionHandoffMarkAsComplete)||void 0===t||t.call(e,S)}),C.current=!1),w.enteringChildren=void 0)}),w}(t,T,s,a,e.ProjectionNode,y)}return(0,u.jsxs)(p.Provider,{value:D,children:[o&&D.visualElement?(0,u.jsx)(o,{visualElement:D.visualElement,...s}):null,function(t,e,n,i,o){let{latestValues:s}=i,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6?arguments[6]:void 0,h=((null!=u?u:l(t))?function(t,e,n,i){let o=(0,r.useMemo)(()=>{let n=C();return(0,P.i)(n,e,(0,S.a)(i),t.transformTemplate,t.style),{...n.attrs,style:{...n.style}}},[e]);if(t.style){let e={};E(e,t.style,t),o.style={...e,...o.style}}return o}:function(t,e){let n={},i=function(t,e){let n=t.style||{},i={};return E(i,n,t),Object.assign(i,function(t,e){let{transformTemplate:n}=t;return(0,r.useMemo)(()=>{let t=w();return(0,x.r)(t,e,n),Object.assign({},t.vars,t.style)},[e])}(t,e)),i}(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n})(e,s,o,t),c=function(t,e,n){let i={};for(let o in t)("values"!==o||"object"!=typeof t.values)&&(b(o)||!0===n&&A(o)||!e&&!A(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}(e,"string"==typeof t,a),d=t!==r.Fragment?{...c,...h,ref:n}:{},{children:p}=e,f=(0,r.useMemo)(()=>(0,g.i)(p)?p.get():p,[p]);return(0,r.createElement)(t,{...d,children:f})}(t,e,function(t,e,n){let i=(0,r.useRef)(n);(0,r.useInsertionEffect)(()=>{i.current=n});let o=(0,r.useRef)(null);return(0,r.useCallback)(n=>{if(n){var s;null===(s=t.onMount)||void 0===s||s.call(t,n)}e&&(n?e.mount(n):e.unmount());let r=i.current;if("function"==typeof r){if(n){let t=r(n);"function"==typeof t&&(o.current=t)}else o.current?(o.current(),o.current=null):r(n)}else r&&(r.current=n)},[e])}(T,D.visualElement,n),T,L,i,y)]})}L.displayName="motion.".concat("string"==typeof t?t:"create(".concat(null!==(n=null!==(e=t.displayName)&&void 0!==e?e:t.name)&&void 0!==n?n:"",")"));let D=(0,r.forwardRef)(L);return D[_]=t,D}var Z=n(1885),J=n(9514);class q extends Z.L{updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();(0,T.H)(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}constructor(t){super(t),t.animationState||(t.animationState=(0,J.M)(t))}}let K=0;class $ extends Z.L{update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;let i=this.node.animationState.setActive("exit",!t);e&&!t&&i.then(()=>{e(this.id)})}mount(){let{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}constructor(){super(...arguments),this.id=K++}}var Q=n(6277),tt=n(7159),te=n(2760),tn=n(2854),ti=n(805),to=n(6147),ts=n(4614),tr=n(9745),ta=n(4256),tl=n(7501),tu=n(3811),th=n(5785),tc=n(335),td=n(5923),tp=n(2035),tf=n(8784);function tm(t){return{point:{x:t.pageX,y:t.pageY}}}let tv=t=>e=>(0,tf.D)(e)&&t(e,tm(e));function tg(t,e,n,i){return(0,tc.E)(t,e,tv(n),i)}let ty=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null};var tx=n(4750),tw=n(9711);let tE=(t,e)=>Math.abs(t-e),tP=new Set(["auto","scroll"]);class tS{startScrollTracking(t){let e=t.parentElement;for(;e;){let t=getComputedStyle(e);(tP.has(t.overflowX)||tP.has(t.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){let e=this.scrollPositions.get(t);if(!e)return;let n=t===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-e.x,y:i.y-e.y};(0!==o.x||0!==o.y)&&(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),to.Wi.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),(0,to.Pn)(this.updatePoint)}constructor(t,e,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3,element:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=t=>{this.handleScroll(t.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var t,e;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=tA(this.lastMoveEventInfo,this.history),i=null!==this.startEvent,o=(t=n.offset,e={x:0,y:0},Math.sqrt(tE(t.x,e.x)**2+tE(t.y,e.y)**2)>=this.distanceThreshold);if(!i&&!o)return;let{point:s}=n,{timestamp:r}=to.frameData;this.history.push({...s,timestamp:r});let{onStart:a,onMove:l}=this.handlers;i||(a&&a(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,n)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=tC(e,this.transformPagePoint),to.Wi.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();let{onEnd:n,onSessionEnd:i,resumeAnimation:o}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&o&&o(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=tA("pointercancel"===t.type?this.lastMoveEventInfo:tC(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,s),i&&i(t,s)},!(0,tf.D)(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;let a=tC(tm(t),this.transformPagePoint),{point:l}=a,{timestamp:u}=to.frameData;this.history=[{...l,timestamp:u}];let{onSessionStart:h}=e;h&&h(t,tA(a,this.history)),this.removeListeners=(0,tx.z)(tg(this.contextWindow,"pointermove",this.handlePointerMove),tg(this.contextWindow,"pointerup",this.handlePointerUp),tg(this.contextWindow,"pointercancel",this.handlePointerUp)),r&&this.startScrollTracking(r)}}function tC(t,e){return e?{point:e(t.point)}:t}function tM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tA(t,e){let{point:n}=t;return{point:n,delta:tM(n,tb(e)),offset:tM(n,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null,o=tb(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>(0,tw.w)(.1)));)n--;if(!i)return{x:0,y:0};let s=(0,tw.X)(o.timestamp-i.timestamp);if(0===s)return{x:0,y:0};let r={x:(o.x-i.x)/s,y:(o.y-i.y)/s};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}(e,0)}}function tb(t){return t[t.length-1]}var tL=n(1645),tD=n(1865);function tT(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function tR(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function tk(t,e,n){return{min:tV(t,e),max:tV(t,n)}}function tV(t,e){return"number"==typeof t?t:t[e]||0}let tW=new WeakMap;class tI{start(t){let{snapToCursor:e=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let{dragSnapToOrigin:o}=this.getProps();this.panSession=new tS(t,{onSessionStart:t=>{e?(this.stopAnimation(),this.snapToCursor(tm(t).point)):this.pauseAnimation()},onStart:(t,e)=>{this.stopAnimation();let{drag:n,dragPropagation:i,onDragStart:o}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=(0,tt.K)(n),!this.openDragLock))return;this.latestPointerEvent=t,this.latestPanInfo=e,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),(0,te.U)(t=>{let e=this.getAxisMotionValue(t).get()||0;if(tn.aQ.test(e)){let{projection:n}=this.visualElement;if(n&&n.layout){let i=n.layout.layoutBox[t];if(i){let t=(0,ti.JO)(i);e=parseFloat(e)/100*t}}}this.originPoint[t]=e}),o&&to.Wi.postRender(()=>o(t,e)),(0,ts.K)(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e;let{dragPropagation:n,dragDirectionLock:i,onDirectionLock:o,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:r}=e;if(i&&null===this.currentDirection){this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(r),null!==this.currentDirection&&o&&o(this.currentDirection);return}this.updateAxis("x",e.point,r),this.updateAxis("y",e.point,r),this.visualElement.render(),s&&s(t,e)},onSessionEnd:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e,this.stop(t,e),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>(0,te.U)(t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,distanceThreshold:n,contextWindow:ty(this.visualElement),element:this.visualElement.current})}stop(t,e){let n=t||this.latestPointerEvent,i=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!n)return;let{velocity:s}=i;this.startAnimation(s);let{onDragEnd:r}=this.getProps();r&&to.Wi.postRender(()=>r(n,i))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,n){let{drag:i}=this.getProps();if(!n||!tj(t,i,this.currentDirection))return;let o=this.getAxisMotionValue(t),s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=function(t,e,n){let{min:i,max:o}=e;return void 0!==i&&t<i?t=n?(0,tu.t)(i,t,n.min):Math.max(t,i):void 0!==o&&t>o&&(t=n?(0,tu.t)(o,t,n.max):Math.min(t,o)),t}(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;let{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,o=this.constraints;e&&Y(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=function(t,e){let{top:n,left:i,bottom:o,right:s}=e;return{x:tT(t.x,i,s),y:tT(t.y,n,o)}}(i.layoutBox,e):this.constraints=!1,this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.35;return!1===t?t=0:!0===t&&(t=.35),{x:tk(t,"left","right"),y:tk(t,"top","bottom")}}(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&(0,te.U)(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){let n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(i.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Y(e))return!1;let i=e.current;(0,tp.k)(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:o}=this.visualElement;if(!o||!o.layout)return!1;let s=(0,tr.z)(i,o.root,this.visualElement.getTransformPagePoint()),r={x:tR((t=o.layout.layoutBox).x,s.x),y:tR(t.y,s.y)};if(n){let t=n((0,ta.z2)(r));this.hasMutatedConstraints=!!t,t&&(r=(0,ta.i8)(t))}return r}startAnimation(t){let{drag:e,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:r}=this.getProps(),a=this.constraints||{};return Promise.all((0,te.U)(r=>{if(!tj(r,e,this.currentDirection))return;let l=a&&a[r]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:n?t[r]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...o,...l};return this.startAxisValueAnimation(r,u)})).then(r)}startAxisValueAnimation(t,e){let n=this.getAxisMotionValue(t);return(0,ts.K)(this.visualElement,t),n.start((0,tl.v)(t,n,0,e,this.visualElement,!1))}stopAnimation(){(0,te.U)(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){(0,te.U)(t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()})}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){let e="_drag".concat(t.toUpperCase()),n=this.visualElement.getProps();return n[e]||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){(0,te.U)(e=>{let{drag:n}=this.getProps();if(!tj(e,n,this.currentDirection))return;let{projection:i}=this.visualElement,o=this.getAxisMotionValue(e);if(i&&i.layout){let{min:n,max:s}=i.layout.layoutBox[e],r=o.get()||0;o.set(t[e]-(0,tu.t)(n,s,.5)+r)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!Y(e)||!n||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};(0,te.U)(t=>{let e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){let n=e.get();i[t]=function(t,e){let n=.5,i=(0,ti.JO)(t),o=(0,ti.JO)(e);return o>i?n=(0,tL.Y)(e.min,e.max-i,t.min):i>o&&(n=(0,tL.Y)(t.min,t.max-o,e.min)),(0,tD.u)(0,1,n)}({min:n,max:n},this.constraints[t])}});let{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),(0,te.U)(e=>{if(!tj(e,t,null))return;let n=this.getAxisMotionValue(e),{min:o,max:s}=this.constraints[e];n.set((0,tu.t)(o,s,i[e]))})}addListeners(){if(!this.visualElement.current)return;tW.set(this.visualElement,this);let t=this.visualElement.current,e=tg(t,"pointerdown",e=>{let{drag:n,dragListener:i=!0}=this.getProps(),o=e.target,s=o!==t&&(0,th._)(o);n&&i&&!s&&this.start(e)}),n=()=>{let{dragConstraints:t}=this.getProps();Y(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),to.Wi.read(n);let s=(0,tc.E)(window,"resize",()=>this.scalePositionWithinConstraints()),r=i.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&((0,te.U)(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{s(),e(),o(),r&&r()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=.35,dragMomentum:r=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:r}}constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=(0,td.dO)(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}}function tj(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}class tO extends Z.L{mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Q.Z}update(){let{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}constructor(t){super(t),this.removeGroupControls=Q.Z,this.removeListeners=Q.Z,this.controls=new tI(t)}}let tU=t=>(e,n)=>{t&&to.Wi.postRender(()=>t(e,n))};class tF extends Z.L{onPointerDown(t){this.session=new tS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ty(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:tU(t),onStart:tU(e),onMove:n,onEnd:(t,e)=>{delete this.session,i&&to.Wi.postRender(()=>i(t,e))}}}mount(){this.removePointerDownListener=tg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}constructor(){super(...arguments),this.removePointerDownListener=Q.Z}}var tH=n(9341),tB=n(3697),t_=n(9637);let tG=!1;class tN extends r.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;o&&(e.group&&e.group.add(o),n&&n.register&&i&&n.register(o),tG&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),tH.V.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:n,drag:i,isPresent:o}=this.props,{projection:s}=n;return s&&(s.isPresent=o,t.layoutDependency!==e&&s.setOptions({...s.options,layoutDependency:e}),tG=!0,i||t.layoutDependency!==e||void 0===e||t.isPresent!==o?s.willUpdate():this.safeToRemove(),t.isPresent===o||(o?s.promote():s.relegate()||to.Wi.postRender(()=>{let t=s.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tB.g.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:i}=t;tG=!0,i&&(i.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tY(t){let[e,n]=(0,t_.oO)(),i=(0,r.useContext)(h.p);return(0,u.jsx)(tN,{...t,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(N),isPresent:e,safeToRemove:n})}var tz=n(1933);let tX={pan:{Feature:tF},drag:{Feature:tO,ProjectionNode:tz.u,MeasureLayout:tY}};var tZ=n(3320);function tJ(t,e,n){let{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover","Start"===n);let o=i["onHover"+n];o&&to.Wi.postRender(()=>o(e,tm(e)))}class tq extends Z.L{mount(){let{current:t}=this.node;t&&(this.unmount=(0,tZ.M)(t,(t,e)=>(tJ(this.node,e,"Start"),t=>tJ(this.node,t,"End"))))}unmount(){}}class tK extends Z.L{onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=(0,tx.z)((0,tc.E)(this.node.current,"focus",()=>this.onFocus()),(0,tc.E)(this.node.current,"blur",()=>this.onBlur()))}unmount(){}constructor(){super(...arguments),this.isActive=!1}}var t$=n(7766);function tQ(t,e,n){let{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap","Start"===n);let o=i["onTap"+("End"===n?"":n)];o&&to.Wi.postRender(()=>o(e,tm(e)))}class t0 extends Z.L{mount(){let{current:t}=this.node;t&&(this.unmount=(0,t$.O)(t,(t,e)=>(tQ(this.node,e,"Start"),(t,e)=>{let{success:n}=e;return tQ(this.node,t,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let t1=new WeakMap,t5=new WeakMap,t2=t=>{let e=t1.get(t.target);e&&e(t)},t3=t=>{t.forEach(t2)},t6={some:0,all:1};class t4 extends Z.L{startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:i="some",once:o}=t,s={root:e?e.current:void 0,rootMargin:n,threshold:"number"==typeof i?i:t6[i]};return function(t,e,n){let i=function(t){let{root:e,...n}=t,i=e||document;t5.has(i)||t5.set(i,{});let o=t5.get(i),s=JSON.stringify(n);return o[s]||(o[s]=new IntersectionObserver(t3,{root:e,...n})),o[s]}(e);return t1.set(t,n),i.observe(t),()=>{t1.delete(t),i.unobserve(t)}}(this.node.current,s,t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,o&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),s=e?n:i;s&&s(t)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e))&&this.startObserver()}unmount(){}constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}}let t7={layout:{ProjectionNode:tz.u,MeasureLayout:tY}},t8=function(t,e){if("undefined"==typeof Proxy)return X;let n=new Map,i=(n,i)=>X(n,i,t,e);return new Proxy((t,e)=>i(t,e),{get:(o,s)=>"create"===s?i:(n.has(s)||n.set(s,X(s,void 0,t,e)),n.get(s))})}({animation:{Feature:q},exit:{Feature:$},inView:{Feature:t4},tap:{Feature:t0},focus:{Feature:tK},hover:{Feature:tq},...tX,...t7},(t,e)=>{var n;return(null!==(n=e.isSVG)&&void 0!==n?n:l(t))?new o.e(e):new s.W(e,{allowProjection:t!==r.Fragment})})},4563:function(t,e,n){n.d(e,{j:function(){return i}});let i="undefined"!=typeof window},3576:function(t,e,n){n.d(e,{h:function(){return o}});var i=n(2265);function o(t){let e=(0,i.useRef)(null);return null===e.current&&(e.current=t()),e.current}},1534:function(t,e,n){n.d(e,{L:function(){return o}});var i=n(2265);let o=n(4563).j?i.useLayoutEffect:i.useEffect}}]);